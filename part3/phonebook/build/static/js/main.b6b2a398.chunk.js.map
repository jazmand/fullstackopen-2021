{"version":3,"sources":["components/Filter.js","components/Persons.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filterName","handleFilterChange","value","onChange","Persons","persons","deletePerson","filter","person","name","toLowerCase","includes","map","number","onClick","window","confirm","id","console","log","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","baseUrl","exportedObject","getAll","axios","get","then","response","data","create","newObject","post","deleteRequest","delete","update","put","Notification","message","className","text","App","useState","setPersons","setNewName","setNewNumber","setFilterName","setMessage","useEffect","personService","initialPersons","length","event","target","preventDefault","personObject","some","updatedPersons","setTimeout","catch","error","returnedPerson","concat","find","n","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b6b2a398.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ filterName, handleFilterChange }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tfilter shown with\r\n\t\t\t<input value={filterName} onChange={handleFilterChange} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst Persons = ({ persons, filterName, deletePerson }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{persons\r\n\t\t\t\t.filter((person) =>\r\n\t\t\t\t\tperson.name.toLowerCase().includes(filterName.toLowerCase())\r\n\t\t\t\t)\r\n\t\t\t\t.map((person) => (\r\n\t\t\t\t\t<p key={person.id}>\r\n\t\t\t\t\t\t{person.name} {person.number}\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\twindow.confirm(`Delete ${person.name}?`)\r\n\t\t\t\t\t\t\t\t\t? deletePerson(person.id)\r\n\t\t\t\t\t\t\t\t\t: console.log(\"delete cancelled\")\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tdelete\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n\taddPerson,\r\n\tnewName,\r\n\thandleNameChange,\r\n\tnewNumber,\r\n\thandleNumberChange,\r\n}) => {\r\n\treturn (\r\n\t\t<form onSubmit={addPerson}>\r\n\t\t\t<div>\r\n\t\t\t\tname: <input value={newName} onChange={handleNameChange} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tnumber: <input value={newNumber} onChange={handleNumberChange} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type=\"submit\">add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default PersonForm;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n\tconst request = axios.get(baseUrl);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n\tconst request = axios.post(baseUrl, newObject);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst deleteRequest = (id) => {\r\n\tconst request = axios.delete(`${baseUrl}/${id}`);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst exportedObject = {\r\n\tgetAll,\r\n\tcreate,\r\n\tdeleteRequest,\r\n\tupdate,\r\n};\r\n\r\nexport default exportedObject;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message }) => {\r\n\tif (message === null) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={`message message-${message.type}`}>{message.text}</div>\r\n\t);\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Filter from \"./components/Filter\";\r\nimport Persons from \"./components/Persons\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport personService from \"./services/persons\";\r\nimport Notification from \"./components/Notification\";\r\nimport \"./index.css\";\r\n\r\nconst App = () => {\r\n\tconst [persons, setPersons] = useState([]);\r\n\tconst [newName, setNewName] = useState(\"\");\r\n\tconst [newNumber, setNewNumber] = useState(\"\");\r\n\tconst [filterName, setFilterName] = useState(\"\");\r\n\tconst [message, setMessage] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log(\"effect\");\r\n\t\tpersonService.getAll().then((initialPersons) => {\r\n\t\t\tconsole.log(\"promise fulfilled\");\r\n\t\t\tsetPersons(initialPersons);\r\n\t\t});\r\n\t}, []);\r\n\tconsole.log(\"render\", persons.length, \"persons\");\r\n\r\n\tconst deletePerson = (id) => {\r\n\t\tconst person = persons.find((n) => n.id === id);\r\n\t\tpersonService\r\n\t\t\t.deleteRequest(id)\r\n\t\t\t.then(() => {\r\n\t\t\t\tsetPersons(persons.filter((person) => person.id !== id));\r\n\t\t\t\tsetMessage({\r\n\t\t\t\t\ttext: `${person.name} removed from server`,\r\n\t\t\t\t\ttype: \"fulfilled\",\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsetMessage(null);\r\n\t\t\t\t}, 4000);\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tsetMessage({\r\n\t\t\t\t\ttext: `Information of ${person.name} already removed from server`,\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsetMessage(null);\r\n\t\t\t\t}, 4000);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst updateNumber = (id, newObject) => {\r\n\t\tpersonService.update(id, newObject).then(() => {\r\n\t\t\tpersonService\r\n\t\t\t\t.getAll()\r\n\t\t\t\t.then((updatedPersons) => {\r\n\t\t\t\t\tsetPersons(updatedPersons);\r\n\t\t\t\t\tconsole.log(\"update fulfilled\");\r\n\t\t\t\t\tsetMessage({\r\n\t\t\t\t\t\ttext: \"phone number updated\",\r\n\t\t\t\t\t\ttype: \"fulfilled\",\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tsetMessage(null);\r\n\t\t\t\t\t}, 4000);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetMessage({\r\n\t\t\t\t\t\ttext: error.response.data.error,\r\n\t\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tsetMessage(null);\r\n\t\t\t\t\t}, 4000);\r\n\t\t\t\t});\r\n\t\t\tsetNewName(\"\");\r\n\t\t\tsetNewNumber(\"\");\r\n\t\t});\r\n\t};\r\n\r\n\tconst addPerson = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst personObject = {\r\n\t\t\tname: newName,\r\n\t\t\tnumber: newNumber,\r\n\t\t};\r\n\r\n\t\tif (persons.some((person) => person.name === newName)) {\r\n\t\t\twindow.confirm(\r\n\t\t\t\t`${newName} is already added to phonebook, replace the old number with a new one?`\r\n\t\t\t)\r\n\t\t\t\t? persons.map(\r\n\t\t\t\t\t\t(person) =>\r\n\t\t\t\t\t\t\tperson.name === newName && updateNumber(person.id, personObject)\r\n\t\t\t\t  )\r\n\t\t\t\t: console.log(\"update cancelled\");\r\n\t\t} else {\r\n\t\t\tpersonService\r\n\t\t\t\t.create(personObject)\r\n\t\t\t\t.then((returnedPerson) => {\r\n\t\t\t\t\tsetMessage({\r\n\t\t\t\t\t\ttext: `Added ${newName}`,\r\n\t\t\t\t\t\ttype: \"fulfilled\",\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tsetMessage(null);\r\n\t\t\t\t\t}, 4000);\r\n\t\t\t\t\tsetPersons(persons.concat(returnedPerson));\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetMessage({\r\n\t\t\t\t\t\ttext: error.response.data.error,\r\n\t\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tsetMessage(null);\r\n\t\t\t\t\t}, 4000);\r\n\t\t\t\t});\r\n\t\t\tsetNewName(\"\");\r\n\t\t\tsetNewNumber(\"\");\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleNameChange = (event) => {\r\n\t\tconsole.log(event.target.value);\r\n\t\tsetNewName(event.target.value);\r\n\t};\r\n\r\n\tconst handleNumberChange = (event) => {\r\n\t\tconsole.log(event.target.value);\r\n\t\tsetNewNumber(event.target.value);\r\n\t};\r\n\r\n\tconst handleFilterChange = (event) => {\r\n\t\tconsole.log(event.target.value);\r\n\t\tsetFilterName(event.target.value);\r\n\t};\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Phonebook</h2>\r\n\t\t\t<Notification message={message} />\r\n\t\t\t<Filter filterName={filterName} handleFilterChange={handleFilterChange} />\r\n\t\t\t<h2>add a new</h2>\r\n\t\t\t<PersonForm\r\n\t\t\t\taddPerson={addPerson}\r\n\t\t\t\tnewName={newName}\r\n\t\t\t\thandleNameChange={handleNameChange}\r\n\t\t\t\tnewNumber={newNumber}\r\n\t\t\t\thandleNumberChange={handleNumberChange}\r\n\t\t\t/>\r\n\t\t\t<h2>Numbers</h2>\r\n\t\t\t<Persons\r\n\t\t\t\tdeletePerson={deletePerson}\r\n\t\t\t\tpersons={persons}\r\n\t\t\t\tfilterName={filterName}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}